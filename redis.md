数据结构：

1. string\(字符串\)
2. list\(链表\)
   1. Redis list的实现为一个双向链表，即可以支持反向查找和遍历，更方便操作，不过带来了部分额外的内存开销。
   2. 比如微博的关注列表，粉丝列表
3. set\(集合\)
   1. set对外提供的功能与list类似是一个列表的功能，特殊之处在于set是可以自动排重的。
   2. 在微博应用中，可以将一个用户所有的关注人存在一个集合中，将其所有粉丝存在一个集合。Redis可以非常方便的实现如共同关注、共同喜好、二度好友等功能。
4. sorted set \(有序集合\)
   1. 和set相比，sorted set增加了一个权重参数score，使得集合中的元素能够按score进行有序排列。
   2. 在直播系统中，实时排行信息包含直播间在线用户列表，各种礼物排行榜，弹幕消息（可以理解为按消息维度的消息排行榜）等信息，适合使用Redis中的SortedSet结构进行存储。
5. hash（哈希类型）
   1. Hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。 比如我们可以Hash数据结构来存储用户信息，商品信息等等。

### Redis与Memcached的区别与比较

1 、Redis不仅仅支持简单的k/v类型的数据，同时还提供list，set，zset，hash等数据结构的存储。memcache支持简单的数据类型，String。

2 、Redis支持数据的备份，即master-slave模式的数据备份。

3 、Redis支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用,而Memecache把数据全部存在内存之中

Redis为单进程单线程模式，采用队列模式将并发访问变为串行访问。Redis本身没有锁的概念，Redis对于多个客户端连接并不存在竞争

## Redis的持久化 {#item-1}

Redis有两种持久化的方式：快照（`RDB`文件）和追加式文件（`AOF`文件）：

* RDB持久化方式会在一个特定的间隔保存那个时间点的一个数据快照。
  * `SAVE`：阻塞redis的**服务器进程**，直到`RDB文件`被创建完毕。
    `BGSAVE`：派生\(fork\)一个子进程来创建新的`RDB文件`，记录接收到`BGSAVE`当时的数据库状态，父进程继续处理接收到的命令，子进程完成文件的创建之后，
* AOF持久化方式则会记录每一个服务器收到的写操作。在服务启动时，这些记录的操作会逐条执行从而重建出原来的数据。写操作命令记录的格式跟Redis协议一致，以追加的方式进行保存。
* Redis的持久化是可以禁用的，就是说你可以让数据的生命周期只存在于服务器的运行时间里。
* 两种方式的持久化是可以同时存在的，但是当Redis重启时，AOF文件会被优先用于重建数据。

[https://juejin.im/post/5c3c1df2e51d45207f54b189](https://juejin.im/post/5c3c1df2e51d45207f54b189)

